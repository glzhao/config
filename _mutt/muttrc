# ft = conf

set folder		= ~/Mail			# mailbox location
set mailcap_path     	= ~/.mutt/mailcap       	# entries for filetypes
set signature        	= ~/.mutt/sig           	# my signature file
#set alias_file       	= ~/.mutt/alias			# where to store aliases

set header_cache	= "$folder/.header_cache"	# where to store headers
set message_cachedir	= "$folder/.bodies_cache"	# where to store bodies

source ~/.mutt/personal					# source the personal info
source ~/.mutt/color.scheme1					# source the color file
source ~/.mutt/maillist					# source the maillist file
source ~/.mutt/macros					# source the macros file
source ~/.mutt/scores					# source the scores file
source ~/.mutt/alias					# where to store aliases

# Default location when mutt read
set spoolfile		= +/inbox/lucienchao_at_gmail/ceph.ceph-devel/

# = or +	:	$folder
# !		:	$spoolfile
# >		:	$mbox
# ^		:	current mailbox
# - or !!	:	last mailbox
# ~		:	home

#set from=gzhao@suse.com
set from=lucienchao@gmail.com
set realname="Guangliang Zhao"
set sendmail = "msmtp-enqueue.sh -a lucienchao@gmail.com"
# This adds the -f option when calling $sendmail to deliver the mail, forcing
# it to use the same address for the From: header field.
set use_envelope_from=yes
folder-hook $folder/inbox/work/* source ~/.mutt/work
folder-hook $folder/inbox/lucienchao_at_gmail/* source ~/.mutt/personal
#folder-hook $folder/inbox/from_suse/INBOX/ \
#		"set from='Guangliang Zhao <gzhao@suse.com>'<enter>"

set mbox_type		= Maildir			# mailbox type
set wait_key		= no				# shut up, mutt
set timeout		= 3				# idle time before scanning
set mail_check		= 0				# minimum time between scans
set thorough_search					# strip headers and eval mimes before searching

# sort like gmail
set sort		= threads
set sort_aux		= reverse-last-date
#set sort_aux		= reverse-last-date-received	# like gmail
set strict_threads	= yes

set delete=ask-yes
set edit_headers=no
set fast_reply
set include						# include message in replies
set uncollapse_jump					# don't collapse on an unread message
set askcc						# ask for CC:
unset markers						# no ugly plus signs
unset mark_old						# read/new is good enough for me
set copy						# backup sent mail
set ascii_chars=yes					# user ascii when thread
set collapse_unread=yes					# fold unread mail thread
set reverse_alias					# show names from alias file in index
set editor="/usr/bin/vim"

# monitor new mails
mailboxes $folder/inbox/
set check_new=yes					# check new mail

# record mail in the following path
set record="$folder/sent_box/=sent-mail-`date +%Y-%m`"

# mail header
ignore *
unignore From: To: Reply-To: Subject: Date: CC: BCC: X-Label: Organization:
unhdr_order *
hdr_order Subject: To: CC: BCC: From: Date: Reply-To: X-Label: Organization:
# mail index
set index_format="%3E %Z %{%b %d}  %-18.18n  %-20.20L  %s"

# Pager View Options
set pager_index_lines	= 10				# number of index lines to show
set pager_context	= 3				# number of context lines to show
set pager_stop						# don't go to next message automatically

# attachment
set attach_format = "%u%D%I %t%4n %T%.40d%> [%.7m/%.10M, %.6e%?C?, %C?, %s] "
set attach_split = yes
set attach_sep = "\n"
auto_view text/html application/x-gunzip application/postscript image/* application/x-tar-gz
alternative_order text/plain text/enriched text/html

# encoding
# resolve the issue when attachment's name is chinese
#set rfc2047_parameters=yes
#set send_charset="gb2312:us-ascii:iso-8859-1:gbk:utf-8"
set send_charset="us-ascii:utf-8"			# recommended by kernel developer

# trash
folder-hook . 'macro index,pager d "<save-message>=trash\n<enter>"'
folder-hook $folder/trash 'bind index d delete-message'

# fold all threads
folder-hook . exec collapse-all
